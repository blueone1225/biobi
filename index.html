

<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>惡靈古堡3 - 錯位場景模擬</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: sans-serif;
      overflow: hidden;
    }
    #viewport {
      width: 100vw;
      height: 100vh;
      position: relative;
      overflow: hidden;
    }
    #gameArea {
      width: 200vw;
      height: 100vh;
      background-image: url('https://image1.gamme.com.tw/news2/2025/16/3/qZ7H05_ew6GdqauZkZ2dl43Y1d4.webp');
      background-size: cover;
      position: relative;
    }
    .character {
      position: absolute;
      width: 10vw;
      height: 10vw;
      max-width: 200px;
      max-height: 200px;
      background-size: cover;
      background-position: center;
    }
    #jill {
      top: 10vh;
      left: 75vw;
      background-image: url('https://s.yimg.com/os/creatr-uploaded-images/2019-12/d92e0c30-254b-11ea-bf72-ccd9056172b3');
    }
    #dog {
      top: 70vh;
      left: -15vw;
      background-image: url('https://i.ytimg.com/vi/_Yo7RTDRQ6g/hqdefault.jpg');
    }
    #corpse {
      top: 72vh;
      left: 43.5vw;
      width: 12vw;
      height: 8vw;
      background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTJPxwWQCF8yT9TcKvehq7MDzG2er1grlblEVa_srYZc0iUIyzY');
    }
    #blood {
      position: absolute;
      width: 8vw;
      height: 8vw;
      background-image: url('https://pngimg.com/uploads/blood/blood_PNG6139.png');
      background-size: contain;
      background-repeat: no-repeat;
      top: 71vh;
      left: 44vw;
      opacity: 0;
    }
    .speech-bubble {
      position: absolute;
      background: #fff;
      padding: 0.5em;
      border-radius: 10px;
      border: 2px solid #333;
      font-size: 0.8em;
      max-width: 30vw;
      z-index: 10;
    }
    #dog-bubble {
      top: 63vh;
      left: 40vw;
      display: none;
    }
    #replayBtn {
      position: absolute;
      top: 2vh;
      left: 2vw;
      padding: 0.8em 1.2em;
      font-size: 1em;
      z-index: 100;
    }

    @keyframes splatter {
      0% { opacity: 0; transform: scale(0.3); }
      100% { opacity: 1; transform: scale(1); }
    }

    @media (max-width: 768px) {
      .character {
        width: 16vw;
        height: 16vw;
      }
      .speech-bubble {
        font-size: 0.6em;
        max-width: 50vw;
      }
    }
  </style>
</head>
<body>

<div id="viewport">
  <button id="replayBtn" onclick="restartScene()">重播</button>
  <div id="gameArea">
    <div id="jill" class="character"></div>
    <div id="dog" class="character"></div>
    <div id="corpse" class="character"></div>
    <div id="blood"></div>
    <div id="dog-bubble" class="speech-bubble">嗷嗚… 真香！</div>
  </div>
</div>

<audio id="biteSound" src="https://cdn.pixabay.com/audio/2021/08/08/audio_661667e56c.mp3"></audio>
<audio id="bloodSound" src="https://cdn.pixabay.com/audio/2023/09/03/audio_d2a6c0f76f.mp3"></audio>

<script>
  const dog = document.getElementById('dog');
  const jill = document.getElementById('jill');
  const blood = document.getElementById('blood');
  const bubble = document.getElementById('dog-bubble');
  const biteSound = document.getElementById('biteSound');
  const bloodSound = document.getElementById('bloodSound');

  function playSounds() {
    biteSound.currentTime = 0;
    bloodSound.currentTime = 0;
    biteSound.play();
    setTimeout(() => {
      bloodSound.play();
    }, 1000);
  }

  function dogEnterAndBite() {
    let left = -15;
    const stopAt = 44;
    const walkInterval = setInterval(() => {
      left += 0.5;
      dog.style.left = `${left}vw`;
      if (left >= stopAt) {
        clearInterval(walkInterval);
        startBite();
      }
    }, 30);
  }

  function startBite() {
    dog.style.animation = 'bite 1.5s infinite';
    blood.style.animation = 'splatter 2s forwards';
    bubble.style.display = 'block';
    playSounds();
  }

  function moveJillRandomly() {
    setInterval(() => {
      const randX = 75 + Math.random() * 10;
      const randY = 10 + Math.random() * 5;
      jill.style.left = `${randX}vw`;
      jill.style.top = `${randY}vh`;
    }, 2000);
  }

  function restartScene() {
    dog.style.left = '-15vw';
    dog.style.animation = 'none';
    blood.style.animation = 'none';
    bubble.style.display = 'none';
    void blood.offsetWidth;
    setTimeout(() => {
      dogEnterAndBite();
    }, 300);
  }

  window.onload = () => {
    dogEnterAndBite();
    moveJillRandomly();
  };
</script>

</body>
</html>
